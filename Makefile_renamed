CXXFLAGS = -std=c++17
STATIC_CHECK_FLAGS = -Wall -Wextra -pedantic
OBJS = main.o text.o
HEADERS = node.hpp decision_tree.hpp binary_tree.hpp bin_tree_iter.hpp

%.o: %.cpp
	$(CXX) -c -o $@ $< $(CXXFLAGS)

# Debug.
%.g.o: %.cpp
	$(CXX) -g -c -o $@ $< $(CXXFLAGS)


main: $(OBJS) $(HEADERS)
	$(CXX) -o $@ $^ $(CXXFLAGS)

debug: $(OBJS:.o=.g.o) $(HEADERS)
	$(CXX) -g -o $@ $^ $(CXXFLAGS) $(STATIC_CHECK_FLAGS)


.PHONY: clean

clean:
	rm *.o main debug


